<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link href="css/header.css" type="text/css" rel="stylesheet" />
	<link href="css/main.css" type="text/css" rel="stylesheet" />
	<link href="css/date/jeDate-test.css"  type="text/css" rel="stylesheet"  />
	<link href="css/date/jedate.css" type="text/css" rel="stylesheet" />
	<title>车辆管理</title>
	<style type="text/css">
		.jeitem{
			margin-left: 5%;
		}
		.jeindiv{
			padding-left: 0px;
		}
		.jeinpbox{
			width: 95%;
			margin-right: 0px;
		}
	</style>
</head>
<body>
	<div class="main-box">
		<div class="header-box">
			<div class="header-left">
				<p class="header-title">智慧工地管理平台</p>
			</div>
			<div class="header-right">
				<div class="navbar-list">
					<ul class="ul-list">
						<li><a href="index.html">项目概况</a></li><span>/</span>
						<li><a href="mapsite.html">工地一张图</a></li><span>/</span>
						<li><a href="person.html">人员管理</a></li><span>/</span>
						<li>
							<a href="carNews.html" class="active-navbar">车辆管理</a>
							<img src="img/active-img.png" class="active-img" />
						</li><span>/</span>
						<li><a href="realtimeVideo.html">现场视频</a></li><span>/</span>
						<li><a href="towerNews.html">塔吊监测</a></li><span>/</span>
						<li><a href="environ.html">环境监测</a></li><span>/</span>
						<li><a href="#">安全教育</a></li><span>/</span>
						<li><a href="#">工地巡检</a></li><span>/</span>
						<li><a href="#">配置管理</a></li><span>/</span>
						<li><a href="#">BIM</a></li>
					</ul>
				</div>
				<div class="date-box">
					<div class="title-group">
						<img src="img/tongzhi.png" id="showImg" />
						<p class="talk-text">通知公告：</p>
					</div>
					<marquee behavior="scroll" direction="left" class="scroll-text">预计武汉洪山区今晚有大到暴雨，请大家做好安全防范措施，安全才能回家！这段橙色文字向左轮播滚动，多余部分不显示！</marquee>
					<div class="user-box">
						<div class="user-inner">
							<img src="img/user.png" />
							<p>admin</p>
						</div>
						<div class="user-inner order-user">
							<img src="img/close.png" />
							<p>退出</p>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="line-box"></div>
		
		<div class="person-box">
			<img src="img/qiu3.png" class="position-img" />
			<div class="list-left">
				<ul class="nav-list">
					<li class="preson-active">
						<div class="left-line"></div>
						<div class="navbar-inner">
							<img src="img/carIcon.png" class="change-img" />
							<p>实时车辆统计</p>
						</div>
					</li>
				</ul>
			</div>
			<div class="car-boxs">
				<div class="left-car">
					<p class="mis-box-text">各门禁进出车辆统计</p>
					<div class="car-out-box">
						<div class="guard-box">
							<div class="guard-inner">
								<p class="door-name">门禁设备SAJKSDNSAKJD</p>
								<button class="change-bth">切换</button>
							</div>
							<div class="time-chooes">
								<ul class="date-list">
									<li class="time-chooes-active">日</li>
									<li>周</li>
									<li>月</li>
								</ul>
							</div>
						</div>
						<div class="echarts-two car-echarts">
							<div id="echarts2" class="echarts-view"></div>
						</div>
					</div>
					<div class="car-lists">
						<div class="car-name">
							<div class="address">
								<p>门禁设备</p>
							</div>
							<div class="type">
								<p>车牌号码</p>
							</div>
							<div class="type">
								<p>进出类别</p>
							</div>
							<div class="address">
								<p>创建时间</p>
							</div>
						</div>
						<div class="person-detail car-detail">
							<ul class="car-list order-cars">
								<li>
									<div class="address">
										<p>SAJKSDNSAKJD</p>
									</div>
									<div class="type">
										<p class="car-num">鄂A1524A</p>
									</div>
									<div class="type">
										<p class="join-color">进入</p>
									</div>
									<div class="address">
										<p>2019-05-21 19:22</p>
									</div>
								</li>
								<li>
									<div class="address">
										<p>SAJKSDNSAKJD</p>
									</div>
									<div class="type">
										<p class="car-num">鄂A1524A</p>
									</div>
									<div class="type">
										<p class="join-color">进入</p>
									</div>
									<div class="address">
										<p>2019-05-21 19:22</p>
									</div>
								</li>
								<li>
									<div class="address">
										<p>SAJKSDNSAKJD</p>
									</div>
									<div class="type">
										<p class="car-num">鄂A1524A</p>
									</div>
									<div class="type">
										<p class="join-color">进入</p>
									</div>
									<div class="address">
										<p>2019-05-21 19:22</p>
									</div>
								</li>
								<li>
									<div class="address">
										<p>SAJKSDNSAKJD</p>
									</div>
									<div class="type">
										<p class="car-num">鄂A1524A</p>
									</div>
									<div class="type">
										<p class="join-color">进入</p>
									</div>
									<div class="address">
										<p>2019-05-21 19:22</p>
									</div>
								</li>
								<li>
									<div class="address">
										<p>SAJKSDNSAKJD</p>
									</div>
									<div class="type">
										<p class="car-num">鄂A1524A</p>
									</div>
									<div class="type">
										<p class="join-color">进入</p>
									</div>
									<div class="address">
										<p>2019-05-21 19:22</p>
									</div>
								</li>
								<li>
									<div class="address">
										<p>SAJKSDNSAKJD</p>
									</div>
									<div class="type">
										<p class="car-num">鄂A1524A</p>
									</div>
									<div class="type">
										<p class="join-color">进入</p>
									</div>
									<div class="address">
										<p>2019-05-21 19:22</p>
									</div>
								</li>
								<li>
									<div class="address">
										<p>SAJKSDNSAKJD</p>
									</div>
									<div class="type">
										<p class="car-num">鄂A1524A</p>
									</div>
									<div class="type">
										<p class="join-color">进入</p>
									</div>
									<div class="address">
										<p>2019-05-21 19:22</p>
									</div>
								</li>
								<li>
									<div class="address">
										<p>SAJKSDNSAKJD</p>
									</div>
									<div class="type">
										<p class="car-num">鄂A1524A</p>
									</div>
									<div class="type">
										<p class="join-color">进入</p>
									</div>
									<div class="address">
										<p>2019-05-21 19:22</p>
									</div>
								</li>
							</ul>
						</div>
						
					</div>
				</div>
				<div class="right-car">
					<div class="top-car">
						<p class="mis-box-text">实时车辆信息统计</p>
						<div class="cricle-box">
							<div class="left-car-echarts">
								<div id="echarts5" class="echarts-view"></div>
							</div>
						</div>
					</div>
					<div class="bottom-car">
						<p class="mis-box-text">车辆在场时间统计</p>   
						<div class="chooes-date car-date">
							<div class="chooes-inner">
								<div class="text-search"></div>
								<div class="starts-time">
									<img src="img/date.png" class="start-img" />
									<!-- <p class="start-text">2019-07-15 12:00</p> -->
									<div class="jeitem">
										<div class="jeinpbox"><div class="jeindiv divmore start-text" placeholder="YYYY-MM-DD" ></div></div>
									</div>
								</div>
								<div class="center-line">--</div>
								<div class="starts-time">
									<img src="img/date.png" class="start-img" />
									<!-- <p class="start-text">2019-07-15 12:00</p> -->
									<div class="jeitem">
										<div class="jeinpbox"><div id="endTime" class="jeindiv divmore start-text" placeholder="YYYY-MM-DD" ></div></div>
									</div>
								</div>
								<button type="submit" class="search-btns">搜索</button>
							</div>
						</div>
						
						<div class="car-echarts">
							<div id="carEcharts" class="echarts-view"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<script src="js/jquery-1.11.0.js" type="text/javascript"></script>
<script src="js/echarts.common.min.js" type="text/javascript"></script>
<script src="js/js-date/jedate.js" type="text/javascript"></script>
<script type="text/javascript">
	var lists = $(".date-list li");
	$(lists).each(function(){
		$(this).click(function(){
			$(this).addClass("time-chooes-active").siblings().removeClass("time-chooes-active");
		})
	})
	jeDate(".jeindiv",{
	    //onClose:false,
	    format: "YYYY-MM-DD hh:mm",
		isinitVal: true
	});
	jeDate("#endTime",{
	    //onClose:false,
	    format: "YYYY-MM-DD hh:mm",
		isinitVal: true
	});
	var showImg = $("#showImg");
	setInterval(function(){
		$(showImg).hide(function(){
			$(this).show();
		});
	},1000)
	var echartsTwo = echarts.init(document.getElementById('echarts2'));
		var option2 = {
				title: {
					text: '',
					left: '5%',
					top: '20%',
					textStyle: {
						color: '#FFA200'
					}
				},
				tooltip: {
					trigger: 'axis',
					axisPointer: {
						type: 'cross'
					}
				},
				legend: {
					icon:'rect',
					orient: 'horizontal',
					itemWidth: 10,
					itemHeight: 10,
					itemGap: 10,
			        data:['PM 2.5','PM 10'],
			        top:'5%',
			        // right:'5%',
			        textStyle:{
			        	color:'#FFFFFF'
			        }
			    },
				grid: {
					right: '10%',
					top: '20%',
					left: '10%',
					bottom:'25%'
				},
				xAxis: {
					type: 'category',
					boundaryGap: false,
					data: ['7:00', '10:00', '13:00', '18:00', '21:00', '24:00'],
					axisLine: {
						lineStyle: {
							color: '#0B244C'
						}
					},
					axisLabel: {
						show: true,
						textStyle: {
							color: '#65C6E7'
						}
					},
					splitLine: {
						show: false
					},
					axisTick: {   
						show: false,
						                   
					},
				},
				yAxis: {
					name: '单位/人',
					nameTextStyle:{
						color: '#65C6E7'
					},
					type: 'value',
					axisLine: {
						lineStyle: {
							color: '#227081'
						}
					},
					axisLabel: {
						show: true,
						textStyle: {
							color: '#65C6E7'
						}
					},
					splitLine: {
						show: false
					},
					axisTick: {      
						show: false,                
					}
		//             min: 0,
		//             max: 1800,
					// splitNumber:5            
			},
			series: [{
					name: 'PM 2.5',
					data: [0, 400, 230,600,180,0],
					type: 'line',
					symbol:'circle',
					symbolSize:false,
					smooth: true,
					lineStyle: {
						color: '#42EAF5',
						width: 0
					},
					itemStyle: {
						color: '#42EAF5'
					},
					areaStyle: {
						color: '#42EAF5'
					}
				},
				{
					name: 'PM 10',
					data: [0,300,370,390,650,0],
					type: 'line',
					symbol:'circle',
					symbolSize:false,
					smooth: true,
					lineStyle:{
						color: '#FF6B11',
						width: 0
					},
					itemStyle: {
						color: '#FF6B11',
						borderWidth: 0
					},
					areaStyle:false
				}
			]
		};
		echartsTwo.setOption(option2);
		
		
		var echartsThree = echarts.init(document.getElementById('echarts5'));
			var m2R2Data= [
			   {value:335,name:"车辆所属单位1",itemStyle:{color:"#08FFC8"}},
			   {value:310,name:"车辆所属单位2",itemStyle:{color:"#56CCFF"}},
			   {value:234,name:"车辆所属单位3",itemStyle:{color:"#00A0FF"}},
			   {value:154,name:"车辆所属单位4",itemStyle:{color:"#FE5F55"}},
			   {value:335,name:"车辆所属单位5",itemStyle:{color:"#FFF568"}},
			   {value:335,name:"车辆所属单位6",itemStyle:{color:"#2BDE73"}},
			   {value:335,name:"车辆所属单位7",itemStyle:{color:"#F71735"}},
			   {value:335,name:"车辆所属单位8",itemStyle:{color:"#FFC952"}},
			];
			 option5 = {
				title: [
				{
					// text: '标题',
					textStyle: {
						fontSize: 16,
						color: "white"
					},
					left: "2%"
				},    
				],
				tooltip: {
					trigger: 'item',
					formatter:function (parms){
					  var str=  parms.seriesName+"</br>"+
						parms.marker+""+parms.data.name+"</br>"+
						"数量："+ parms.data.value+"</br>"+
						"占比："+ parms.percent+"%";
						return  str ;
					}
				},
				legend:[
					{  
						orient: 'horizontal',  
						x : '45%',  
						y : '30%', 
						align: 'left',  
						data: ['车辆所属单位1'],  
						textStyle:{  
							color:'#08FFC8'  
						}  
					},
					{  
						orient: 'horizontal',  
						x : '65%',  
						y : '30%', 
						align: 'left',  
						data: ['车辆所属单位2'],  
						textStyle:{  
							color:'#56CCFF'  
						}  
					},
					{  
						orient: 'horizontal',  
						x : '45%',  
						y : '40%', 
						align: 'left',  
						data: ['车辆所属单位3'],  
						textStyle:{  
							color:'#00A0FF'  
						}  
					},
					{  
						orient: 'horizontal',  
						x : '65%',  
						y : '40%', 
						align: 'left',  
						data: ['车辆所属单位4'],  
						textStyle:{  
							color:'#FE5F55'  
						}  
					},
					{  
						orient: 'horizontal',  
						x : '45%',  
						y : '50%', 
						align: 'left',  
						data: ['车辆所属单位5'],  
						textStyle:{  
							color:'#FFF568'  
						}  
					},
					{  
						orient: 'horizontal',  
						x : '65%',  
						y : '50%', 
						align: 'left',  
						data: ['车辆所属单位6'],  
						textStyle:{  
							color:'#2BDE73'  
						}  
					},
					{  
						orient: 'horizontal',  
						x : '45%',  
						y : '60%', 
						align: 'left',  
						data: ['车辆所属单位7'],  
						textStyle:{  
							color:'#F71735'  
						}  
					},
					{  
						orient: 'horizontal',  
						x : '65%',  
						y : '60%', 
						align: 'left',  
						data: ['车辆所属单位8'],  
						textStyle:{  
							color:'#FFC952'  
						},
					},
					
				],
				series: [
					{
						name:'标题',
						type:'pie',
						center: ['25%', '50%'],
						radius: ['40%', '65%'],
						 clockwise: false, //饼图的扇区是否是顺时针排布
						avoidLabelOverlap: false,
						label: {
							normal: {
								show: false,
							}
						},
						labelLine: {
							normal: {
							  length:5,
							  length2:3,
							  smooth:true,
							}
						},
						data:m2R2Data
					}
				]
			};
		echartsThree.setOption(option5);
		
		
		var echartsSeven = echarts.init(document.getElementById('carEcharts'));
		option7 = {
			color: ['#3398DB'],
			tooltip : {
				// trigger: 'axis',
				// axisPointer : {            // 坐标轴指示器，坐标轴触发有效
				//     type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
				// }
			},
			grid: {
				left: '3%',
				right: '4%',
				bottom: '10%',
				containLabel: true
			},
			xAxis : [
				{
					type : 'category',
					data : ['车牌号1', '车牌号1', '车牌号1', '车牌号1', '车牌号1', '车牌号1', '车牌号1','车牌号1','车牌号1','车牌号1','车牌号1'],
					axisTick: {
						alignWithLabel: false
					},
					axisLine: {
						lineStyle: {
							color: '#65C6E7'
						}
					},
					axisLabel: {
						show: true,
						textStyle: {
							color: '#65C6E7'
						},
						formatter:function(value){
							return value.split("").join("\n");
						}
					},
					splitLine: {
						show: false
					},
					axisTick: { 
						show: false,                
					}
					// splitArea:{
					// 	show:true,
					// 	areaStyle:{
					// 		color:'#227081',
					// 	}
					// } 
				}
			],
			yAxis : [
				{
					name:'时长/小时',
					type : 'value',
					axisLabel: {
						show: true,
						textStyle: {
							color: '#65C6E7'
						}
					},
					axisLine: {
						lineStyle: {
							color: '#65C6E7'
						}
					},
					splitLine: {
						show: false
					},
					axisTick: { 
						show: false,                
					} 
				}
			],
			series : [
				{
					name:'时长',
					type:'bar',
					barWidth: '60%',
					data:[6.5, 5.8, 4.8, 6, 7.3, 8.2, 7.5,6.9,4.5,3.5,6.5],
					itemStyle:{
						normal:{
							color:'#16B3E0'
						}
					}
				}
			]
		};
		echartsSeven.setOption(option7);
		
		setTimeout(function (){
			window.onresize = function (res) {
				echartsTwo.resize();
				echartsThree.resize();
				echartsSeven.resize();
			}
		},200)
</script>
</html>
